<link rel="import" href="desmond-post.html">

<polymer-element name="desmond-content" attributes="posts page pages pageIndex">
  <template>
    <style>
      desmond-post, .pseudo-post {
        padding: 20px 48px;
        display: block;


        box-sizing: border-box;
        background-color: white;
        border-left: 8px solid;

        border-top-right-radius: 10px;
      }

      .pseudo-post.footer {
        border: solid #7f8c8d;
        border-left-width: 8px;
        border-right-width: 0px;
        border-bottom-width: 0px;
        margin-bottom: 0;
      }

      .alpha { border-left-color: #e74c3c; }
      .bravo { border-left-color: #3498db; }
      .charlie { border-left-color: #2ecc71; }
      .delta { border-left-color: #1abc9c; }
      .echo { border-left-color: #9b59b6; }

      desmond-post.first {
        margin-top: -100px;
      }

      @media only screen {
        desmond-post, .pseudo-post {
          margin: 0;
        }
        .pseudo-post {
          border-top-width: 1px;
        }
      }

      @media only screen and (min-width: 641px) {
        desmond-post, .pseudo-post {
          margin: 0 0 40px;
        }
        .pseudo-post {
          border-top-width: 0px;
        }
      }
    </style>


    <div id="posts">
      <template repeat="{{post, i in posts}}" if="{{page=='Home'}}">
        <desmond-post url="/#/{{post.meta.slug}}" post="{{post}}" class="{{ {first: i==0, alpha: i%5==0, bravo: i%5==1, charlie: i%5==2, delta: i%5==3, echo: i%5==4} | tokenList }}">
        </desmond-post>
      </template>

      <template if="{{page!='Blog' && pages[page].html}}">
        <desmond-post url="/#/{{pages[page].meta.slug}}" post="{{pages[page]}}" class="{{ {first: true, alpha: pageIndex%5==0, bravo: pageIndex%5==1, charlie: pageIndex%5==2, delta: pageIndex%5==3, echo: pageIndex%5==4} | tokenList }}"></desmond-post>
      </template>

      <template if="{{page.html}}">
        <desmond-post url="/#/{{page.meta.slug}}" post="{{page}}" class="{{ {first: true, alpha: page.meta.index%5==0, bravo: page.meta.index%5==1, charlie: page.meta.index%5==2, delta: page.meta.index%5==3, echo: page.meta.index%5==4} | tokenList }}"></desmond-post>
      </template>
      <div class="pseudo-post footer">
        <p>My personal blog. I am an undergraduate Software Engineering student at The University of Texas at Dallas.</p>

        <p>Created using <a href="https://www.polymer-project.org/">Polymer</a></p>
      </div>
    </div>
  </template>

  <script>
    Polymer({
      domReady: function() {
      },
      colorClasses: ['alpha', 'bravo', 'charlie', 'delta', 'echo']
    })
  </script>
</polymer-element>
